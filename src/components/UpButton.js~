import "./UpButton.scss"

export const UP_BUTTON_NORMAL = 0
export const UP_BUTTON_ACTIVE = 1

export default function ({
  style,
  fill,
  type,
  animate,
  fireColor,
}) {
  fill = fill || "#3Ac516"
  animate = animate === undefined ? true : animate
  fireColor = fireColor || "white"


  return (
    <div className="up-button-wrapper">

      <svg className="up-button" viewBox="0 0 100 100" style={style}>

        {/* Define filters */}
        <defs>
          <filter id="textShadowFilter" x="-50%" y="-50%" width="200%" height="200%">
            <feTurbulence baseFrequency="0.01 0.24" result="NOISE" numOctaves="2" />
            <feDisplacementMap in="SourceGraphic" in2="NOISE" scale="2" xChannelSelector="R" yChannelSelector="R">
              <animate attributeName="scale" values="2;1.8;2" dur={animate ? "1s" : "1000000s"} repeatCount="indefinite" />
            </feDisplacementMap>
            {/* <feDropShadow dx="0" dy="0" stdDeviation="2" floodColor={fireColor} /> */}
          </filter>

          <filter id="shadowFilter" x="-50%" y="-50%" width="200%" height="200%">
            <feDropShadow dx="0" dy="0" stdDeviation="2" floodColor={fireColor} />
            <feDropShadow dx="0" dy="0" stdDeviation="2" floodColor={fireColor} />
            <feDropShadow dx="0" dy="0" stdDeviation="2" floodColor={fireColor} />
          </filter>

          <filter id="arrowFilter" x="-50%" y="-50%" width="200%" height="200%">
            <feDropShadow dx="0" dy="0" stdDeviation="4" floodColor={fireColor} />
            <feDropShadow dx="0" dy="0" stdDeviation="4" floodColor={fireColor} />
          </filter>

          {/* Grainy texture filter with animation */}
          <filter id="grainyTexture">
            <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch">
              <animate attributeName="baseFrequency" values="0.5;0.6;0.7;0.8;" dur={animate ? "2s" : "1000000s"} repeatCount="indefinite" />
            </feTurbulence>
            <feDisplacementMap in="SourceGraphic" scale="5" />
          </filter>

          <filter id="lightGrainyTexture">
            <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="3" stitchTiles="stitch">
              <animate attributeName="baseFrequency" values="0.5;0.6;0.7;0.8;" dur={animate ? "2s" : "1000000s"} repeatCount="indefinite" />
            </feTurbulence>
            <feDisplacementMap in="SourceGraphic" scale="0.25" />
          </filter>
        </defs>

        <defs>
          <filter id="glowing" x="-50%" y="-50%" width="200%" height="200%" filterUnits="userSpaceOnUse">
            <feGaussianBlur in="SourceAlpha" stdDeviation="2" result="coloredBlur" />
            <feOffset dx="0" dy="0" result="offsetblur" />
            <feMerge>
              <feMergeNode in="coloredBlur" />
              <feMergeNode in="SourceGraphic" />
            </feMerge>
          </filter>
        </defs>

        {/* <line x1="0" y1="50" x2="100" y2="50" stroke="black" strokeWidth="2" filter="url(#glowing) url(#glowing) url(#glowing)"></line> */}

        <path d="
          M 0,100
          Q 50,2 50,0
          Q 50,2 100,100
          Z
        "
          fill={fill}
          stroke={fireColor}
          strokeWidth="0.1"
          filter="url(#arrowFilter) url(#grainyTexture)"
        />
        <path d="
          M 0,100
          Q 50,2 50,0
          Q 50,2 100,100
          Z
        "
          fill={fill}
          stroke={fireColor}
          strokeWidth="0.1"
        />

      </svg>
    </div>
  )
}